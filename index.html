<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentine</title>

  <style>
    :root{
      --ink:#3b2a33;

      /* TWEAK THESE 3 IF YOU WANT PERFECT ALIGNMENT */
      --gif-top: 15vh;              /* move GIF up/down */
      --gif-left: 50vw;             /* keep 50vw for center; change if needed */
      --gif-size: min(220px, 34vw); /* GIF size */
    }

    body{
      margin:0;
      min-height:100vh;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--ink);

      /* Put bg.png in the repo root */
      background: #f6c2d6 url("bg.png") center / cover no-repeat fixed;

      display:grid;
      place-items:center;
      overflow:hidden;
    }

    /* GIF overlay that "replaces" the kitten baked into bg.png */
    .gif-overlay{
      position: fixed;
      top: var(--gif-top);
      left: var(--gif-left);
      transform: translate(-50%, 0);
      width: var(--gif-size);
      height: var(--gif-size);
      display:none;                 /* shown after YES */
      z-index: 20;
      pointer-events:none;
      filter: drop-shadow(0 18px 24px rgba(59,42,51,0.18));
    }
    .gif-overlay img{
      width:100%;
      height:100%;
      object-fit: contain;
      display:block;
      border-radius: 18px;          /* optional */
    }

    /* Arena = interactive area for buttons */
    .arena{
      width:min(560px, 92vw);
      height:min(260px, 48vh);
      position:relative;

      /* Places buttons roughly inside the empty card area of your bg */
      transform: translateY(120px);
      z-index: 10;
    }

    .btn{
      appearance:none;
      border:0;
      border-radius:18px;
      padding:14px 18px;
      font-weight:800;
      font-size:18px;
      cursor:pointer;
      user-select:none;
      background: rgba(255,255,255,0.85);
      color: #3b2a33;
      border: 1px solid rgba(233,115,150,0.28);
      box-shadow: 0 14px 26px rgba(59,42,51,0.14);
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
      white-space:nowrap;
    }
    .btn:hover{
      transform: translateY(-2px);
      box-shadow: 0 18px 34px rgba(59,42,51,0.18);
      background: rgba(255,255,255,0.92);
    }
    .btn:active{ transform: translateY(0) scale(0.99); }

    #yesBtn{
      position:absolute;
      left: 40px;
      top: 140px;
      min-width: 150px;
      z-index: 11;
    }

    #noBtn{
      position:absolute;
      left: 320px;
      top: 140px;
      min-width: 150px;
      will-change: left, top;
      touch-action:none;
      z-index: 11;
    }

    /* tiny success popup */
    .toast{
      position:fixed;
      left:50%;
      bottom:28px;
      transform:translateX(-50%);
      padding:14px 18px;
      border-radius:16px;
      background: rgba(255,255,255,0.85);
      border: 1px solid rgba(233,115,150,0.25);
      box-shadow: 0 18px 40px rgba(59,42,51,0.16);
      display:none;
      font-weight:800;
      z-index: 30;
    }
    .toast.show{ display:block; }

    /* Optional: when YES clicked, fade buttons out */
    .arena.locked #noBtn,
    .arena.locked #yesBtn{
      opacity: 0.15;
      pointer-events: none;
      transform: none;
    }
  </style>
</head>

<body>
  <!-- Upload your GIF to repo root as yay.gif -->
  <div class="gif-overlay" id="gifOverlay" aria-hidden="true">
    <img src="yay.gif" alt="Yay GIF" />
  </div>

  <div class="arena" id="arena">
    <button class="btn" id="yesBtn">Yes ðŸ’–</button>
    <button class="btn" id="noBtn">No ðŸ˜­</button>
  </div>

  <div class="toast" id="toast">YAYYY ðŸ’–ðŸ’–ðŸ’–</div>

  <script>
    const arena = document.getElementById("arena");
    const noBtn  = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const toast  = document.getElementById("toast");
    const gifOverlay = document.getElementById("gifOverlay");

    const clamp = (v, min, max) => Math.max(min, Math.min(max, v));

    function placeNo(x, y){
      const rect = arena.getBoundingClientRect();
      const bw = noBtn.offsetWidth;
      const bh = noBtn.offsetHeight;
      const pad = 10;

      const minX = pad;
      const maxX = rect.width  - bw - pad;
      const minY = pad;
      const maxY = rect.height - bh - pad;

      noBtn.style.left = `${clamp(x, minX, maxX)}px`;
      noBtn.style.top  = `${clamp(y, minY, maxY)}px`;
    }

    // Start "No" in a valid spot
    function init(){
      const rect = arena.getBoundingClientRect();
      placeNo(Math.min(320, rect.width - noBtn.offsetWidth - 10), 140);
    }
    window.addEventListener("load", init);

    function fleeFrom(px, py){
      const rect = arena.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      // button center (relative to arena)
      const bx = (btnRect.left - rect.left) + btnRect.width/2;
      const by = (btnRect.top  - rect.top ) + btnRect.height/2;

      let dx = bx - px;
      let dy = by - py;

      // if pointer exactly on center, randomize
      let len = Math.hypot(dx, dy) || 1;
      dx /= len; dy /= len;

      const jump = 160; // how far it runs each time
      const tx = (bx + dx * jump) - noBtn.offsetWidth/2;
      const ty = (by + dy * jump) - noBtn.offsetHeight/2;

      placeNo(tx, ty);
    }

    function onMove(e){
      // If we already accepted YES, don't run anymore
      if (arena.classList.contains("locked")) return;

      const rect = arena.getBoundingClientRect();
      const clientX = e.clientX ?? e.touches?.[0]?.clientX;
      const clientY = e.clientY ?? e.touches?.[0]?.clientY;
      if (clientX == null || clientY == null) return;

      const px = clientX - rect.left;
      const py = clientY - rect.top;

      const btnRect = noBtn.getBoundingClientRect();
      const bx = (btnRect.left - rect.left) + btnRect.width/2;
      const by = (btnRect.top  - rect.top ) + btnRect.height/2;

      const dist = Math.hypot(px - bx, py - by);
      const threshold = 120;

      if (dist < threshold) fleeFrom(px, py);
    }

    // Desktop + mobile
    arena.addEventListener("mousemove", onMove);
    arena.addEventListener("touchstart", onMove, { passive:true });
    arena.addEventListener("touchmove", onMove, { passive:true });

    // Make "No" extra annoying if clicked
    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation();
      const rect = arena.getBoundingClientRect();
      const rx = Math.random() * (rect.width  - noBtn.offsetWidth  - 20) + 10;
      const ry = Math.random() * (rect.height - noBtn.offsetHeight - 20) + 10;
      placeNo(rx, ry);
    });

    // YES: show toast + overlay GIF covering the baked-in kitten
    yesBtn.addEventListener("click", () => {
      toast.classList.add("show");
      gifOverlay.style.display = "block";

      // Optional: disable buttons after YES
      arena.classList.add("locked");
    });

    // Keep No inside arena on resize
    window.addEventListener("resize", () => {
      placeNo(parseFloat(noBtn.style.left || "0"), parseFloat(noBtn.style.top || "0"));
    });
  </script>
</body>
</html>
